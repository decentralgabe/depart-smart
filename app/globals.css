@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;

    --muted: 223 47% 11%;
    --muted-foreground: 215 20% 65%;

    --accent: 216 34% 17%;
    --accent-foreground: 210 40% 98%;

    --popover: 224 71% 4%;
    --popover-foreground: 215 20% 65%;

    --border: 216 34% 17%;
    --input: 216 34% 17%;

    --card: 224 71% 4%;
    --card-foreground: 213 31% 91%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 1.2%;

    --secondary: 222.2 47.4% 11.2%;
    --secondary-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --ring: 216 34% 17%;

    --radius: 0.5rem;

    --chart-1: 262 83% 58%;
    --chart-2: 199 89% 48%;
    --chart-3: 221 83% 53%;
    --chart-4: 316 70% 50%;
    --chart-5: 41 88% 64%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background-image: radial-gradient(circle at top left, rgba(124, 58, 237, 0.06) 0%, transparent 40%),
      radial-gradient(circle at bottom right, rgba(56, 189, 248, 0.06) 0%, transparent 40%);
    background-attachment: fixed;
  }
}

/* Google Maps PlaceAutocompleteElement styling */
gmpx-place-autocomplete {
  width: 100%;
  --gmpx-color-surface: hsl(var(--background));
  --gmpx-color-on-surface: hsl(var(--foreground));
  --gmpx-color-on-surface-variant: hsl(var(--muted-foreground));
  --gmpx-font-family-headline: inherit;
  --gmpx-font-family-body: inherit;
  --gmpx-border-color: hsl(var(--border));
  --gmpx-border-width: 1px;
  --gmpx-border-radius: var(--radius);
  --gmpx-hover-color: hsl(var(--accent));
  --gmpx-place-result-icon-color: hsl(var(--muted-foreground));
  --gmpx-place-result-description-color: hsl(var(--muted-foreground));
  --gmpx-place-result-name-color: hsl(var(--foreground));
  --gmpx-focus-outline-color: hsl(var(--ring));
}

gmpx-place-autocomplete .gmpx-input {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  height: 40px !important;
  padding: 0.5rem 0.75rem !important;
  font-size: 0.875rem !important;
  width: 100% !important;
}

gmpx-place-autocomplete .gmpx-input:focus {
  outline: 2px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
}

/* Add padding for the icon */
.has-icon gmpx-place-autocomplete .gmpx-input {
  padding-left: 2.5rem !important;
}

/* Fix dropdown styling */
gmpx-place-autocomplete .gmpx-place-result-list {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
}

gmpx-place-autocomplete .gmpx-place-result:hover {
  background-color: hsl(var(--accent)) !important;
}

/* Additional styling for the new PlaceAutocompleteElement */
.gm-style-moc {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Style the input element inside PlaceAutocompleteElement */
.pac-container {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  margin-top: 4px !important;
  z-index: 1000 !important;
}

.pac-item {
  border-color: hsl(var(--border)) !important;
  padding: 0.5rem !important;
  cursor: pointer !important;
  color: hsl(var(--foreground)) !important;
}

.pac-item:hover {
  background-color: hsl(var(--accent)) !important;
}

.pac-item-query {
  color: hsl(var(--foreground)) !important;
  font-size: 0.875rem !important;
}

.pac-matched {
  color: hsl(var(--primary)) !important;
  font-weight: bold !important;
}

.pac-icon {
  filter: invert(1) !important;
}

/* PlaceAutocompleteElement direct input styling */
[role="combobox"] {
  width: 100% !important;
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: 0.5rem 0.75rem !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
  outline: none !important;
  transition: border-color 0.2s, box-shadow 0.2s !important;
}

[role="combobox"]:focus {
  outline: 2px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
  border-color: transparent !important;
}

/* Additional styling to fix PlaceAutocompleteElement issues */
gmpx-place-autocomplete-element,
gmpx-place-autocomplete-element * {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Target Google Maps input elements directly */
input.gm-style {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix styling for all potential PlaceAutocomplete elements */
.gm-style input,
.gm-style textarea,
.gm-style select,
gmpx-place-autocomplete-element input,
[data-placeholder="Enter an address"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
  font-family: inherit !important;
}

/* Force background color on autocomplete dropdown */
.pac-container,
.pac-item,
.pac-item-query {
  background-color: hsl(var(--background)) !important;
}

/* Fix for white background on address element */
html body [data-component="place-autocomplete-element"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

html body [data-component="place-autocomplete-element"] input {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  opacity: 1 !important;
}

/* Additional comprehensive fixes for Google Place Autocomplete elements */
.place-autocomplete-element,
.place-autocomplete-element input,
google-maps-place-element,
google-maps-place-element input,
.address-input-wrapper [role="combobox"],
.address-input-wrapper input,
.address-input-wrapper div,
google-map-address-element,
google-map-address-element *,
google-map-place-element,
google-map-place-element * {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix specifically for new Google Maps PlaceAutocompleteElement */
[data-component-type="PlaceAutocompleteElement"],
[data-component-type="PlaceAutocompleteElement"] input,
[data-map-component-type="PlaceAutocompleteElement"],
[data-map-component-type="PlaceAutocompleteElement"] input {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Force all map inputs to have proper theme */
.address-input-wrapper * {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* More aggressive styling for Google Maps components - highest priority */
:where(body) :where(.address-input-wrapper) :where(*),
:where(body) :where([data-map-id]) :where(*),
:where(body) :where(gmpx-place-autocomplete-element) :where(*),
:where(body) :where(.pac-container) :where(*),
:where(body) :where([role="combobox"]),
:where(body) :where(gmpx-place-data-provider) :where(*) {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Direct targeting of all possible input elements across shadow DOM boundaries */
input[type="text"],
input:not([type]),
[role="combobox"],
[data-input],
[data-is-input="true"],
[data-js-address-search-input],
gmpx-place-autocomplete-element input {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Penetration of all possible container elements */
[data-map-component-type],
[data-component-type],
[data-placeholder],
.gmpx-address-prediction,
.gmpx-place-picker,
.google-map-container,
div[style*="position: absolute"],
div[style*="position:absolute"],
.pac-container {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* More aggressive styling for Google's PlaceAutocompleteElement */
gmpx-place-autocomplete-element,
gmpx-place-data-provider {
  background-color: transparent !important;
}

gmpx-place-autocomplete-element input,
gmpx-place-autocomplete-element [data-js-address-search-input],
.gm-style input[type="text"],
.gmpx-follow-button,
.gmpx-static-map,
.gmpx-place-result-container {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

gmpx-place-autocomplete-element::part(input),
gmpx-place-autocomplete-element::part(container),
gmpx-place-autocomplete-element::part(input-wrapper) {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Apply styles to all inputs within the form for consistency */
.address-input input,
.address-input [role="combobox"],
.address-input-wrapper input,
.address-input-wrapper [role="combobox"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

